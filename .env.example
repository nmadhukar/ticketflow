# TicketFlow Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================
# REQUIRED CONFIGURATION
# ============================================

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://user:password@host:5432/database
PGHOST=localhost
PGPORT=5432
PGUSER=ticketflow_user
PGPASSWORD=your_secure_password
PGDATABASE=ticketflow

# Session Secret (Generate a random string for security)
# You can generate one using: openssl rand -base64 32
SESSION_SECRET=your-super-secret-session-key-change-this-in-production

# Application Environment
NODE_ENV=development
PORT=5000

# ============================================
# OPTIONAL - AWS SERVICES
# ============================================

# AWS SES (Email Service)
# Required for sending emails (password reset, invitations, etc.)
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1

# AWS Bedrock (AI Features)
# Required for AI-powered ticket analysis and auto-responses
# Can use same credentials as above or separate ones
AWS_BEDROCK_ACCESS_KEY_ID=AKIA...
AWS_BEDROCK_SECRET_ACCESS_KEY=your-bedrock-secret-key
AWS_BEDROCK_REGION=us-east-1

# ============================================
# OPTIONAL - MICROSOFT SSO
# ============================================

# Microsoft OAuth/Azure AD (Single Sign-On)
# Required only if you want Microsoft 365 login
MICROSOFT_CLIENT_ID=your-azure-app-client-id
MICROSOFT_CLIENT_SECRET=your-azure-app-secret
MICROSOFT_TENANT_ID=your-azure-tenant-id

# ============================================
# OPTIONAL - EMAIL (Alternative to AWS SES)
# ============================================

# SendGrid API (Alternative email provider)
SENDGRID_API_KEY=SG.xxx

# ============================================
# OPTIONAL - SECURITY & PERFORMANCE
# ============================================

# JWT Configuration (for API tokens)
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Rate Limiting
RATE_LIMITING_ENABLED=false
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration
CORS_ENABLED=true
CORS_ORIGIN=http://localhost:5000,https://yourdomain.com
CORS_CREDENTIALS=true

# Input Validation
INPUT_VALIDATION_ENABLED=true
VALIDATION_STRICT_MODE=true

# ============================================
# REPLIT SPECIFIC (Auto-configured on Replit)
# ============================================

# Replit deployment information (set automatically)
REPL_ID=your-repl-id
REPLIT_DOMAINS=your-repl-slug.replit.app

# ============================================
# NOTES
# ============================================

# Default Admin Account (Auto-created on first startup):
# Email: admin@ticketflow.local
# Password: Admin123!
# 
# IMPORTANT: Change this password after first login!

# To generate secure secrets:
# - SESSION_SECRET: openssl rand -base64 32
# - JWT_SECRET: openssl rand -base64 32

# AWS Setup:
# 1. Create IAM user with Bedrock and SES permissions
# 2. Generate access keys
# 3. Never commit these to version control!

# Microsoft SSO Setup:
# 1. Register app in Azure Portal
# 2. Add redirect URI: https://your-domain.com/api/auth/microsoft/callback
# 3. Enable ID tokens and Access tokens
# 4. Add Microsoft Graph API permissions
